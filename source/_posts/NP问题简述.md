---
title: NP问题简述
tags: [算法]
categories: 其他
mathjax: true
---

#### 首先，阐明一个概念，时间复杂度

时间复杂度，指的是当某个问题的规模扩大后，程序解决它需要耗费的时间的增长曲线。

- 常数级，$O(1)$：程序处理某个问题所花费的时间与处理数据的规模没关系。通俗点说，就是当我的规模增长到原先的千百倍后，处理这个问题的时间仍旧不变。
- 对数级，$O(logN)$：如二分查找。
- 线性级，$O(N)$：处理时间同数据规模的增速一样。比如找$N$个值中的最大元素之类的问题。
- 线性对数级，$O(N*logN)$：如归并排序。
- 平方级，$O(N^2)$：如双层循环，插入排序。
- 指数级，$O(2^N)$：如穷举。 
- 阶乘级，$O(N!)$：如打印N个数的全排列。

但是不会存在$O(N^3 + N^2 + 5)$这种复杂度的情况，只会是$O(N^3)$，
因为系数（如$2$）和更低级别的项（如$N^2$），
对程序时间增长的影响力远小于最高级别的项。同理，$O(N^1000)$将优于$O(1.001^N)$。

如此，可将以上级别的时间复杂度大致分为两类：
- 多项式级，如$O(1)$，$O(logN)$，$O(N^c)$，因为它的规模N出现在底数的位置
- 非多项式级，如$O(c^N)$和$O(N!)$

所以，解决问题时算法的时间复杂度都需要控制在**多项式级别**，非多项式级别一旦数据规模增大很难产生有意义的算法。

#### 那么能不能找到一个多项式级别的算法，来解决所有问题呢

不能。

如“停机问题”甚至根本就不可解，此类问题称作“不可解问题”(Undecidable Decision Problem)。

- 有可以在多项式时间内解决问题的算法，此类问题称P问题
- 可以在多项式的时间里验证/猜出一个解，属于NP问题
- 不能在多项式时间内验证一个解，不是NP问题的问题，如确定一个图中是否不存在哈密顿回路，在试过所有路之前就没办法验证。

只有NP问题才有可能找到多项式级的算法。假如你要尝试找一个问题的多项式级算法，起码这个问题要能在多项式时间内验证某个解。

#### 显然P问题都属于NP问题，但是否所有NP问题都是P问题呢

![image](http://ow5t5k2fx.bkt.clouddn.com/NP.png)

所以，问题就变成了，$P = NP$是否成立。

这个问题耗费了很多时间和精力仍然没有解决，但总的来说，普遍观点是存在至少一个不可能有多项式级复杂度的算法的NP问题，即$P \neq NP$。因为在研究这个问题的过程中，发现了NPC问题。

此处需要提到归约。说“问题A可归约为问题B”，意即问题B的解法可以解决问题A。比如，知道一元二次方程的解法，那么一定会解一元一次方程。显然，“问题A可归约为问题B”，则B的时间复杂度大于等于A的时间复杂度，也就是问题A不比问题B难。并且，归约具有传递性。

如果能找到一个变化法则，对任意一个程序A的输入，都能按这个法则变换成程序B的输入，使两程序的输出相同，那么我们说，问题A可归约为问题B。当然，这个归约是指可多项式地归约。

归约最终令时间复杂度增加，但问题的应用范围也扩大了。

#### 那么最后能否归约出一个涵盖所有的NP问题的超级NP问题

只要解决了这个超级NP问题，所有的NP问题就都迎刃而解。

难以置信的是这种问题竟然存在，并且存在一类，此即所谓的NPC问题，也就是NP-完全问题。

NPC问题的定义需要两个条件：
- 是一个NP问题
- 所有的NP问题都可以约化到它

NPC问题的证明需要两点：
- 证明它是一个NP问题
- 根据归约传递性，再证明其中一个已知的NPC问题能约化到它

#### 如此，我们只要给一个NPC问题找到一个多项式的算法，那么所有NP问题都会是多项式可解的了

但是给NPC问题找一个多项式算法太不可思议了，故大家普遍认为$P \neq NP$。NPC问题目前只能用指数级甚至阶乘级复杂度的搜索。

此外，还有NP-Hard问题。NP-Hard问题仅满足NPC问题第二条，但不一定必须得是一个NP问题。由于NP-Hard放宽了限定条件，它可能比所有NPC问题的时间复杂度还要高，哪怕NPC解决了，NP-Hard也未必能解决。如围棋的必胜下法这个问题即NP-Hard问题。

CIRCUIT-SAT，NPC问题的“鼻祖”：给定一个逻辑电路，问是否存在一种输入使输出为1。

CIRCUIT-SAT属于NPC问题，证明过程相当复杂，大意是说任意一个NP问题的输入和输出都可以转换成逻辑电路的输入和输出（好比计算机内部）。

有了第一个NPC问题，一大堆NPC问题就出现了。

![image](http://ow5t5k2fx.bkt.clouddn.com/npc.png)

**正是NPC问题的存在，$P = NP$变得不太可能。**